class n{constructor(){this.patterns={area:/@(\w+)/g,tags:/#(\w+)/g,time:/:(\d+[dhm])/g,priority:/!(\w+)/g},this.tagPriorityMap={urgente:"Alta",urgent:"Alta",importante:"Alta",important:"Alta",alta:"Alta",high:"Alta",m√©dia:"M√©dia",media:"M√©dia",medium:"M√©dia",baixa:"Baixa",low:"Baixa"}}parse(a){if(!a||typeof a!="string")return this._createEmptyResult();const t=a.trim();if(!t)return this._createEmptyResult();const e=this._extractArea(t),r=this._extractTags(t),s=this._extractTime(t),i=this._extractPriority(t,r),o=this._extractTitle(t);return{titulo:o,area:e,tags:r,tempoEstimado:s,prioridade:i,raw:t,isValid:o.length>0}}_extractArea(a){const t=[...a.matchAll(this.patterns.area)];return t.length>0?t[0][1]:null}_extractTags(a){return[...a.matchAll(this.patterns.tags)].map(e=>e[1].toLowerCase())}_extractTime(a){const t=[...a.matchAll(this.patterns.time)];if(t.length>0){const e=t[0][1],r=parseInt(e),s=e.slice(-1);let i=0;switch(s){case"h":i=r*60;break;case"m":i=r;break;case"d":i=r*24*60;break}return{raw:e,minutes:i,display:this._formatTime(i)}}return null}_extractPriority(a,t){const e=[...a.matchAll(this.patterns.priority)];if(e.length>0){const r=e[0][1].toLowerCase();return this._normalizePriority(r)}for(const r of t)if(this.tagPriorityMap[r])return this.tagPriorityMap[r];return"M√©dia"}_normalizePriority(a){const t=a.toLowerCase();return{alta:"Alta",high:"Alta",urgente:"Alta",urgent:"Alta",m√©dia:"M√©dia",media:"M√©dia",medium:"M√©dia",baixa:"Baixa",low:"Baixa"}[t]||"M√©dia"}_extractTitle(a){let t=a;return t=t.replace(this.patterns.area,""),t=t.replace(this.patterns.tags,""),t=t.replace(this.patterns.time,""),t=t.replace(this.patterns.priority,""),t=t.trim().replace(/\s+/g," "),t}_formatTime(a){if(a<60)return`${a}min`;if(a<1440){const t=Math.floor(a/60),e=a%60;return e>0?`${t}h ${e}min`:`${t}h`}else{const t=Math.floor(a/1440),e=Math.floor(a%1440/60);return e>0?`${t}d ${e}h`:`${t}d`}}_createEmptyResult(){return{titulo:"",area:null,tags:[],tempoEstimado:null,prioridade:"M√©dia",raw:"",isValid:!1}}validateArea(a,t){if(!a)return{exists:!1,area:null};const e=a.toLowerCase(),r=t.find(s=>s.nome.toLowerCase()===e);return{exists:!!r,area:r||null,shouldCreate:!r}}generatePreview(a){if(!a.isValid)return"‚ö†Ô∏è T√≠tulo inv√°lido";const t=[];return t.push(`üìù **${a.titulo}**`),a.area&&t.push(`üìö √Årea: ${a.area}`),a.tags.length>0&&t.push(`üè∑Ô∏è Tags: ${a.tags.map(e=>`#${e}`).join(", ")}`),a.tempoEstimado&&t.push(`‚è±Ô∏è Tempo: ${a.tempoEstimado.display}`),t.push(`üéØ Prioridade: ${a.prioridade}`),t.join(`
`)}}typeof module<"u"&&module.exports&&(module.exports=n);export{n as QuickAddParser,n as default};
//# sourceMappingURL=QuickAddParser-RLhah0gW.js.map
