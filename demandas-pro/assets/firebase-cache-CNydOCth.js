import{o as n}from"./idb-Dob3nYDb.js";const s="gerenciador-pedro-cache",o=1,t="app-data";async function c(){return n(s,o,{upgrade(e){e.objectStoreNames.contains(t)||e.createObjectStore(t)}})}class l{constructor(){this.db=null,this.initialized=!1}async init(){if(!this.initialized)try{this.db=await c(),this.initialized=!0,console.log("✅ Cache IndexedDB inicializado")}catch(r){console.error("❌ Erro ao inicializar cache:",r)}}async set(r,i){if(this.initialized||await this.init(),!this.db)return!1;try{return await this.db.put(t,i,r),!0}catch(a){return console.error(`Erro ao salvar no cache (${r}):`,a),!1}}async get(r){if(this.initialized||await this.init(),!this.db)return null;try{return await this.db.get(t,r)||null}catch(i){return console.error(`Erro ao recuperar do cache (${r}):`,i),null}}async remove(r){if(this.initialized||await this.init(),!this.db)return!1;try{return await this.db.delete(t,r),!0}catch(i){return console.error(`Erro ao remover do cache (${r}):`,i),!1}}async clear(){if(this.initialized||await this.init(),!this.db)return!1;try{return await this.db.clear(t),!0}catch(r){return console.error("Erro ao limpar cache:",r),!1}}async has(r){return await this.get(r)!==null}async getAllKeys(){if(this.initialized||await this.init(),!this.db)return[];try{return await this.db.getAllKeys(t)}catch(r){return console.error("Erro ao obter chaves do cache:",r),[]}}}const d=new l;export{d as f};
//# sourceMappingURL=firebase-cache-CNydOCth.js.map
