const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home-Cu87fQ7K.js","assets/Toast-BrGTI1e1.js","assets/firebase-service-DlA8zRSG.js","assets/firebase-DLTXyntu.js","assets/firebase-cache-CNydOCth.js","assets/idb-Dob3nYDb.js","assets/swipe-gestures-CKoNtDs5.js","assets/TaskEditModal-BpBB0i5P.js","assets/ConfirmModal-BsncAfHd.js","assets/Projetos-BK72uiu3.js","assets/Rotina-C79DdUPj.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function t(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(n){if(n.ep)return;n.ep=!0;const r=t(n);fetch(n.href,r)}})();const y="modulepreload",E=function(i){return"/demandas-pro/"+i},p={},h=function(e,t,s){let n=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));n=Promise.allSettled(t.map(d=>{if(d=E(d),d in p)return;p[d]=!0;const c=d.endsWith(".css"),m=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const l=document.createElement("link");if(l.rel=c?"stylesheet":y,c||(l.as="script"),l.crossOrigin="",l.href=d,a&&l.setAttribute("nonce",a),document.head.appendChild(l),c)return new Promise((v,g)=>{l.addEventListener("load",v),l.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${d}`)))})}))}function r(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return n.then(o=>{for(const a of o||[])a.status==="rejected"&&r(a.reason);return e().catch(r)})},w={};class P{constructor(e,t="app"){this.routes=e,this.container=document.getElementById(t),this.currentView=null,this.basePath=this.detectBasePath(),this.currentPath=this.normalizePath(window.location.pathname),this.subscribers=[],this.init()}detectBasePath(){if(typeof import.meta<"u"&&w){const s="/demandas-pro/";return s.endsWith("/")?s:s+"/"}const e=window.location.pathname;if(e.startsWith("/demandas-pro/"))return"/demandas-pro/";const t=e.split("/").filter(s=>s);if(t.length>0){const s=t[0];if(!["","projetos","estudos","rotina","terapeutico"].includes(s)&&e.startsWith("/"+s+"/"))return"/"+s+"/"}return"/"}normalizePath(e){return e?!this.basePath||this.basePath==="/"?e===""?"/":e:e.startsWith(this.basePath)?e.slice(this.basePath.length-1)||"/":e===this.basePath.slice(0,-1)?"/":e||"/":"/"}init(){window.addEventListener("popstate",e=>{const t=this.normalizePath(window.location.pathname);this.handleRoute(t,!1),this.notifySubscribers(t)}),document.addEventListener("click",e=>{const t=e.target.closest("a[data-route]");if(t){e.preventDefault();const s=t.getAttribute("data-route")||t.getAttribute("href");this.navigate(s)}}),this.handleRoute(this.currentPath||"/",!1)}navigate(e,t=!0){const s=this.normalizePath(e),n=this.basePath&&this.basePath!=="/"?this.basePath.slice(0,-1)+s:s;t&&window.history.pushState({},"",n),this.handleRoute(s,t),this.notifySubscribers(s)}notifySubscribers(e){this.subscribers&&this.subscribers.forEach(t=>{try{t(e)}catch(s){console.error("Erro ao notificar subscriber:",s)}})}onRouteChange(e){return this.subscribers||(this.subscribers=[]),this.subscribers.push(e),()=>{this.subscribers=this.subscribers.filter(t=>t!==e)}}async handleRoute(e,t=!0){e=this.normalizePath(e),e=e===""?"/":e;const s=this.findRoute(e);if(!s)if(console.warn(`Rota nÃ£o encontrada: ${e}`),e==="/"||e===""){e="/";const n=this.findRoute("/");if(n)s=n;else{console.error("Rota raiz nÃ£o encontrada");return}}else{this.navigate("/",!1);return}this.currentPath=e;try{const n=await s.component(),r=n.default||n;this.currentView&&this.currentView.destroy&&this.currentView.destroy();let o=null;if(typeof r=="function"){const a=r();a&&typeof a.render=="function"?(this.render(a.render()),a.mount&&(o=a.mount())):this.render(a)}else r&&typeof r.render=="function"?(this.render(r.render()),r.mount&&(o=r.mount())):this.render(r);this.currentView=o||r,this.updateActiveLinks(e)}catch(n){console.error(`Erro ao carregar rota ${e}:`,n)}}findRoute(e){if(this.routes[e])return{path:e,component:this.routes[e]};for(const[t,s]of Object.entries(this.routes))if(this.pathToRegex(t).test(e))return{path:t,component:s,params:this.extractParams(t,e)};return null}pathToRegex(e){const t=e.replace(/\//g,"\\/").replace(/:(\w+)/g,"([^/]+)");return new RegExp(`^${t}$`)}extractParams(e,t){const s={},n=e.split("/"),r=t.split("/");return n.forEach((o,a)=>{if(o.startsWith(":")){const d=o.slice(1);s[d]=r[a]}}),s}render(e){if(!this.container){console.error("Container nÃ£o encontrado");return}typeof e=="string"?this.container.innerHTML=e:e&&typeof e=="object"&&e.nodeType&&(this.container.innerHTML="",this.container.appendChild(e))}updateActiveLinks(e){document.querySelectorAll("[data-route], a[href]").forEach(t=>{(t.getAttribute("data-route")||t.getAttribute("href"))===e?t.classList.add("active"):t.classList.remove("active")})}getCurrentPath(){return this.currentPath}}const L={"/":()=>h(()=>import("./Home-Cu87fQ7K.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8])).then(i=>i.default),"/projetos":()=>h(()=>import("./Projetos-BK72uiu3.js"),__vite__mapDeps([9,1,2,3,4,5,7,8])).then(i=>i.default),"/estudos":()=>h(()=>import("./Estudos-DHtES5DD.js"),[]).then(i=>i.default),"/rotina":()=>h(()=>import("./Rotina-C79DdUPj.js"),__vite__mapDeps([10,1,2,3,4,5,6,8])).then(i=>i.default),"/terapeutico":()=>h(()=>import("./Terapeutico-CvI2XKrm.js"),[]).then(i=>i.default)};let u=null;function _(i="app"){return u=new P(L,i),u}class k{constructor(){this.isOpen=!1,this.isMobile=window.innerWidth<1024,this.init()}init(){this.createSidebar(),this.setupEventListeners(),this.handleResize()}createSidebar(){const e=document.createElement("aside");e.className="sidebar",e.id="sidebar",e.innerHTML=`
      <div class="sidebar-header">
        <h2>ğŸ¯ Gerenciador</h2>
        <button class="sidebar-close" aria-label="Fechar menu">âœ•</button>
      </div>
      <nav class="sidebar-nav">
        <a href="/" data-route="/" class="sidebar-link active">
          <span class="sidebar-link-icon">ğŸ </span>
          <span class="sidebar-link-text">Home</span>
        </a>
        <a href="/projetos" data-route="/projetos" class="sidebar-link">
          <span class="sidebar-link-icon">ğŸ“‹</span>
          <span class="sidebar-link-text">Projetos</span>
        </a>
        <a href="/estudos" data-route="/estudos" class="sidebar-link">
          <span class="sidebar-link-icon">ğŸ“š</span>
          <span class="sidebar-link-text">Estudos</span>
        </a>
        <a href="/rotina" data-route="/rotina" class="sidebar-link">
          <span class="sidebar-link-icon">ğŸ“…</span>
          <span class="sidebar-link-text">Minha Rotina</span>
        </a>
        <a href="/terapeutico" data-route="/terapeutico" class="sidebar-link">
          <span class="sidebar-link-icon">ğŸŒ±</span>
          <span class="sidebar-link-text">EspaÃ§o TerapÃªutico</span>
        </a>
      </nav>
    `;const t=document.createElement("div");t.className="sidebar-overlay",t.id="sidebar-overlay",document.body.appendChild(t),document.body.appendChild(e),e.querySelector(".sidebar-close").addEventListener("click",()=>this.close()),t.addEventListener("click",()=>this.close()),e.querySelectorAll(".sidebar-link").forEach(n=>{n.addEventListener("click",r=>{const o=n.getAttribute("data-route");o&&u&&(u.navigate(o),this.isMobile&&this.close())})})}setupEventListeners(){window.addEventListener("resize",()=>this.handleResize()),document.addEventListener("keydown",e=>{e.key==="Escape"&&this.isOpen&&this.close()})}handleResize(){const e=this.isMobile;this.isMobile=window.innerWidth<1024,e!==this.isMobile&&(this.isMobile?this.close():this.open())}open(){this.isOpen=!0;const e=document.getElementById("sidebar"),t=document.getElementById("sidebar-overlay");e&&e.classList.add("open"),t&&this.isMobile&&t.classList.add("active"),document.body.style.overflow=this.isMobile?"hidden":""}close(){this.isOpen=!1;const e=document.getElementById("sidebar"),t=document.getElementById("sidebar-overlay");e&&e.classList.remove("open"),t&&t.classList.remove("active"),document.body.style.overflow=""}toggle(){this.isOpen?this.close():this.open()}updateActiveRoute(e){document.querySelectorAll(".sidebar-link").forEach(s=>{s.getAttribute("data-route")===e?s.classList.add("active"):s.classList.remove("active")})}}class f{constructor(e=[]){this.items=e}static create(e){return new f(e).render()}static fromRoute(e){const t=[{label:"Home",path:"/"}],s={"/projetos":"Projetos","/estudos":"Estudos","/rotina":"Minha Rotina","/terapeutico":"EspaÃ§o TerapÃªutico"};return e&&e!=="/"&&e.split("/").filter(Boolean).forEach(r=>{const o="/"+r,a=s[o]||r.charAt(0).toUpperCase()+r.slice(1);t.push({label:a,path:o})}),new f(t)}render(){const t=window.innerWidth<768?[this.items[this.items.length-1]]:this.items,s=document.createElement("nav");s.className="breadcrumb",s.setAttribute("aria-label","Breadcrumb");const n=document.createElement("ol");return n.className="breadcrumb-list",t.forEach((r,o)=>{const a=document.createElement("li");a.className="breadcrumb-item";const d=o===t.length-1;if(d){a.setAttribute("aria-current","page");const c=document.createElement("span");c.className="breadcrumb-current",c.textContent=r.label,a.appendChild(c)}else{const c=document.createElement("a");c.href=r.path,c.setAttribute("data-route",r.path),c.className="breadcrumb-link",c.textContent=r.label,c.addEventListener("click",m=>{m.preventDefault(),u&&r.path&&u.navigate(r.path)}),a.appendChild(c)}if(!d){const c=document.createElement("span");c.className="breadcrumb-separator",c.setAttribute("aria-hidden","true"),c.textContent="â€º",a.appendChild(c)}n.appendChild(a)}),s.appendChild(n),s}}const R={};function C(){if("serviceWorker"in navigator){const i=typeof import.meta<"u"&&R?"/demandas-pro/":"./",e=i==="./"||i==="/"?"./service-worker.js":i+"service-worker.js";navigator.serviceWorker.register(e).then(t=>{console.log("[SW] Registered:",t.scope),setInterval(()=>{t.update()},6e4),t.addEventListener("updatefound",()=>{const s=t.installing;s.addEventListener("statechange",()=>{s.state==="installed"&&navigator.serviceWorker.controller&&confirm("Nova versÃ£o disponÃ­vel! Atualizar agora?")&&t.waiting&&(t.waiting.postMessage({type:"SKIP_WAITING"}),window.location.reload())})})}).catch(t=>{console.error("[SW] Registration failed:",t)})}}function A(){const i=document.createElement("div");i.id="offline-indicator",i.className="offline-indicator hidden",i.innerHTML="ğŸ“´ Sem conexÃ£o",document.body.appendChild(i);const e=document.createElement("style");e.textContent=`
        .offline-indicator {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: #ef4444;
            color: white;
            text-align: center;
            padding: 12px;
            font-weight: 600;
            z-index: 9999;
            transform: translateY(-100%);
            transition: transform 0.3s ease;
        }
        
        .offline-indicator.show {
            transform: translateY(0);
        }
        
        .offline-indicator.hidden {
            display: none;
        }
    `,document.head.appendChild(e),window.addEventListener("online",()=>{i.classList.remove("show"),i.textContent="âœ… Conectado",setTimeout(()=>i.classList.add("hidden"),2e3)}),window.addEventListener("offline",()=>{i.classList.add("show"),i.classList.remove("hidden"),i.textContent="ğŸ“´ Sem conexÃ£o"}),navigator.onLine||i.classList.add("show")}function b(){C(),A();const i=_("app"),e=new k;S(e);function t(n){e.updateActiveRoute(n),s(n)}function s(n){const r=document.getElementById("breadcrumb-container");if(r){const o=f.fromRoute(n);r.innerHTML="",r.appendChild(o.render())}}i.onRouteChange(t),s(i.getCurrentPath())}function S(i){const e=document.createElement("header");e.className="app-header",e.innerHTML=`
    <div class="app-header-content">
      <button class="menu-hamburguer" id="menu-hamburguer" aria-label="Abrir menu">
        <span class="menu-hamburguer-line"></span>
        <span class="menu-hamburguer-line"></span>
        <span class="menu-hamburguer-line"></span>
      </button>
      <h1 class="app-header-title">ğŸ¯ Gerenciador Pedro</h1>
    </div>
    <nav id="breadcrumb-container" class="app-breadcrumb"></nav>
  `,document.body.insertBefore(e,document.body.firstChild);const t=document.getElementById("menu-hamburguer");t&&t.addEventListener("click",()=>{i.toggle()})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",b):b();export{h as _};
//# sourceMappingURL=index-DrFPX27l.js.map
