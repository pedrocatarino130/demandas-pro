{"version":3,"file":"migrate-localStorage-to-firebase-DBoqDX6d.js","sources":["../../src/utils/migrate-localStorage-to-firebase.js"],"sourcesContent":["/**\n * Script de Migra√ß√£o: localStorage ‚Üí Firebase Firestore\n * \n * Migra todos os dados do localStorage para o Firestore.\n * Executado uma vez na primeira inicializa√ß√£o.\n */\n\nimport { firebaseService } from '../services/firebase-service.js';\nimport { firebaseCache } from '../services/firebase-cache.js';\n\nconst USER_ID = 'default';\n\n/**\n * Executa migra√ß√£o completa do localStorage para Firestore\n */\nexport async function migrateLocalStorageToFirebase() {\n    console.log('üîÑ Iniciando migra√ß√£o localStorage ‚Üí Firestore...');\n\n    try {\n        // Verificar se j√° migrou\n        const migrated = await firebaseCache.get('firestore-migration-completed');\n        if (migrated) {\n            console.log('‚úÖ Migra√ß√£o j√° foi conclu√≠da anteriormente');\n            return { success: true, skipped: true };\n        }\n\n        // Inicializar cache\n        await firebaseCache.init();\n\n        const results = {\n            tarefas: 0,\n            rotina: 0,\n            categorias: 0,\n            estudos: 0,\n            notas: 0,\n            config: 0,\n            errors: []\n        };\n\n        // 1. Migrar tarefas de projetos e home\n        await migrateTarefas(results);\n\n        // 2. Migrar rotina\n        await migrateRotina(results);\n\n        // 3. Migrar categorias\n        await migrateCategorias(results);\n\n        // 4. Migrar estudos\n        await migrateEstudos(results);\n\n        // 5. Migrar notas\n        await migrateNotas(results);\n\n        // 6. Migrar configura√ß√µes\n        await migrateConfig(results);\n\n        // Marcar migra√ß√£o como conclu√≠da\n        await firebaseCache.set('firestore-migration-completed', {\n            timestamp: new Date().toISOString(),\n            results\n        });\n\n        console.log('‚úÖ Migra√ß√£o conclu√≠da:', results);\n        return { success: true, results };\n    } catch (error) {\n        console.error('‚ùå Erro na migra√ß√£o:', error);\n        return { success: false, error: error.message };\n    }\n}\n\n/**\n * Migra tarefas de projetos e home\n */\nasync function migrateTarefas(results) {\n    try {\n        // Tentar estado v3 primeiro\n        const v3State = localStorage.getItem('gerenciador_v3_state');\n        let tarefas = [];\n        let tarefasHome = [];\n\n        if (v3State) {\n            const state = JSON.parse(v3State);\n            tarefas = state.tarefas || [];\n            tarefasHome = state.tarefasHome || [];\n        } else {\n            // Fallback para v2\n            const projetos = localStorage.getItem('tarefas_projetos_v2');\n            if (projetos) {\n                tarefas = JSON.parse(projetos);\n            }\n        }\n\n        // Salvar tarefas no Firestore\n        const batch = [];\n        for (const tarefa of tarefas) {\n            if (tarefa.id) {\n                batch.push({\n                    type: 'set',\n                    collection: 'tarefas',\n                    docId: tarefa.id,\n                    data: {\n                        ...tarefa,\n                        tipo: 'projeto',\n                        updatedAt: new Date().toISOString(),\n                    },\n                    merge: false,\n                });\n            }\n        }\n\n        for (const tarefa of tarefasHome) {\n            if (tarefa.id) {\n                batch.push({\n                    type: 'set',\n                    collection: 'tarefas',\n                    docId: tarefa.id,\n                    data: {\n                        ...tarefa,\n                        tipo: 'home',\n                        updatedAt: new Date().toISOString(),\n                    },\n                    merge: false,\n                });\n            }\n        }\n\n        if (batch.length > 0 && firebaseService.isAvailable()) {\n            await firebaseService.batchWrite(batch);\n            results.tarefas = batch.length;\n            console.log(`‚úÖ Migradas ${batch.length} tarefas`);\n        }\n    } catch (error) {\n        results.errors.push({ type: 'tarefas', error: error.message });\n        console.error('Erro ao migrar tarefas:', error);\n    }\n}\n\n/**\n * Migra dados de rotina\n */\nasync function migrateRotina(results) {\n    try {\n        let tarefasRotina = [];\n        let historico = [];\n\n        // Tentar estado v3 primeiro\n        const v3State = localStorage.getItem('gerenciador_v3_state');\n        if (v3State) {\n            const state = JSON.parse(v3State);\n            tarefasRotina = state.tarefasRotina || [];\n            historico = state.historico || [];\n        } else {\n            // Fallback para v2\n            const rotina = localStorage.getItem('tarefas_rotina_v5');\n            if (rotina) {\n                tarefasRotina = JSON.parse(rotina);\n            }\n\n            const hist = localStorage.getItem('historico_rotina_v5');\n            if (hist) {\n                historico = JSON.parse(hist);\n            }\n        }\n\n        if ((tarefasRotina.length > 0 || historico.length > 0) && firebaseService.isAvailable()) {\n            await firebaseService.setDocument('rotina', USER_ID, {\n                tarefasRotina,\n                historico,\n                contadorRotina: tarefasRotina.length,\n                updatedAt: new Date().toISOString(),\n            }, false);\n\n            results.rotina = tarefasRotina.length + historico.length;\n            console.log(`‚úÖ Migrados dados de rotina (${tarefasRotina.length} tarefas, ${historico.length} hist√≥rico)`);\n        }\n    } catch (error) {\n        results.errors.push({ type: 'rotina', error: error.message });\n        console.error('Erro ao migrar rotina:', error);\n    }\n}\n\n/**\n * Migra categorias\n */\nasync function migrateCategorias(results) {\n    try {\n        let categorias = [];\n\n        // Tentar estado v3 primeiro\n        const v3State = localStorage.getItem('gerenciador_v3_state');\n        if (v3State) {\n            const state = JSON.parse(v3State);\n            categorias = state.categorias || [];\n        } else {\n            // Fallback para v2\n            const cats = localStorage.getItem('categorias_rotina_v4');\n            if (cats) {\n                categorias = JSON.parse(cats);\n            }\n        }\n\n        if (categorias.length > 0 && firebaseService.isAvailable()) {\n            const batch = [];\n            for (const categoria of categorias) {\n                if (categoria.id) {\n                    batch.push({\n                        type: 'set',\n                        collection: 'categorias',\n                        docId: categoria.id,\n                        data: {\n                            ...categoria,\n                            updatedAt: new Date().toISOString(),\n                        },\n                        merge: false,\n                    });\n                }\n            }\n\n            if (batch.length > 0) {\n                await firebaseService.batchWrite(batch);\n                results.categorias = batch.length;\n                console.log(`‚úÖ Migradas ${batch.length} categorias`);\n            }\n        }\n    } catch (error) {\n        results.errors.push({ type: 'categorias', error: error.message });\n        console.error('Erro ao migrar categorias:', error);\n    }\n}\n\n/**\n * Migra dados de estudos\n */\nasync function migrateEstudos(results) {\n    try {\n        let areasEstudo = [];\n        let topicosEstudo = [];\n        let tagsEstudo = [];\n        let configEstudos = {};\n\n        // Tentar estado v3 primeiro\n        const v3State = localStorage.getItem('gerenciador_v3_state');\n        if (v3State) {\n            const state = JSON.parse(v3State);\n            areasEstudo = state.areasEstudo || [];\n            topicosEstudo = state.topicosEstudo || [];\n            tagsEstudo = state.tagsEstudo || [];\n            configEstudos = state.configEstudos || {};\n        } else {\n            // Fallback para estudos v2\n            const estudos = localStorage.getItem('estudos_dados_v2');\n            if (estudos) {\n                const estudosData = JSON.parse(estudos);\n                areasEstudo = estudosData.areas || [];\n                topicosEstudo = estudosData.topicos || [];\n                tagsEstudo = estudosData.tags || [];\n                configEstudos = estudosData.config || {};\n            }\n        }\n\n        // Tamb√©m tentar estudos-store v3\n        const estudosStore = localStorage.getItem('estudos_v3');\n        if (estudosStore && areasEstudo.length === 0 && topicosEstudo.length === 0) {\n            const estudosData = JSON.parse(estudosStore);\n            areasEstudo = estudosData.areas || [];\n            topicosEstudo = estudosData.topicos || [];\n        }\n\n        if ((areasEstudo.length > 0 || topicosEstudo.length > 0) && firebaseService.isAvailable()) {\n            await firebaseService.setDocument('estudos', USER_ID, {\n                areasEstudo,\n                topicosEstudo,\n                tagsEstudo,\n                configEstudos,\n                contadorEstudos: topicosEstudo.length,\n                updatedAt: new Date().toISOString(),\n            }, false);\n\n            results.estudos = areasEstudo.length + topicosEstudo.length;\n            console.log(`‚úÖ Migrados dados de estudos (${areasEstudo.length} √°reas, ${topicosEstudo.length} t√≥picos)`);\n        }\n    } catch (error) {\n        results.errors.push({ type: 'estudos', error: error.message });\n        console.error('Erro ao migrar estudos:', error);\n    }\n}\n\n/**\n * Migra notas r√°pidas\n */\nasync function migrateNotas(results) {\n    try {\n        const notas = [];\n        \n        // Buscar todas as notas no localStorage\n        for (let i = 0; i < localStorage.length; i++) {\n            const key = localStorage.key(i);\n            if (key && key.startsWith('notas_')) {\n                try {\n                    const data = JSON.parse(localStorage.getItem(key));\n                    notas.push({\n                        key: key.replace('notas_', ''),\n                        data\n                    });\n                } catch (e) {\n                    console.warn(`Erro ao migrar nota ${key}:`, e);\n                }\n            }\n        }\n\n        if (notas.length > 0 && firebaseService.isAvailable()) {\n            const batch = [];\n            for (const nota of notas) {\n                batch.push({\n                    type: 'set',\n                    collection: 'notas',\n                    docId: `notas_${nota.key}`,\n                    data: {\n                        topicoId: nota.data.topicoId || nota.key,\n                        content: nota.data.content || '',\n                        timestamp: nota.data.timestamp || new Date().toISOString(),\n                        updatedAt: new Date().toISOString(),\n                    },\n                    merge: false,\n                });\n            }\n\n            if (batch.length > 0) {\n                await firebaseService.batchWrite(batch);\n                results.notas = batch.length;\n                console.log(`‚úÖ Migradas ${batch.length} notas`);\n            }\n        }\n    } catch (error) {\n        results.errors.push({ type: 'notas', error: error.message });\n        console.error('Erro ao migrar notas:', error);\n    }\n}\n\n/**\n * Migra configura√ß√µes\n */\nasync function migrateConfig(results) {\n    try {\n        let streak = 0;\n        let conquistas = {};\n        let avaliacoesDiarias = [];\n        let darkMode = false;\n        let filtroStatus = null;\n\n        // Tentar estado v3 primeiro\n        const v3State = localStorage.getItem('gerenciador_v3_state');\n        if (v3State) {\n            const state = JSON.parse(v3State);\n            streak = state.streak || 0;\n            conquistas = state.conquistas || {};\n            avaliacoesDiarias = state.avaliacoesDiarias || [];\n            darkMode = state.darkMode || false;\n            filtroStatus = state.filtroStatus || null;\n        } else {\n            // Fallback para avalia√ß√µes v1\n            const avaliacoes = localStorage.getItem('avaliacoes_diarias_v1');\n            if (avaliacoes) {\n                avaliacoesDiarias = JSON.parse(avaliacoes);\n            }\n        }\n\n        if (firebaseService.isAvailable()) {\n            await firebaseService.setDocument('config', USER_ID, {\n                streak,\n                conquistas,\n                avaliacoesDiarias,\n                darkMode,\n                filtroStatus,\n                ultimaAtualizacao: new Date().toISOString(),\n                updatedAt: new Date().toISOString(),\n            }, false);\n\n            results.config = 1;\n            console.log('‚úÖ Migradas configura√ß√µes');\n        }\n    } catch (error) {\n        results.errors.push({ type: 'config', error: error.message });\n        console.error('Erro ao migrar configura√ß√µes:', error);\n    }\n}\n\n/**\n * Cria backup dos dados do localStorage antes da migra√ß√£o\n */\nexport async function createBackup() {\n    const backup = {};\n    \n    try {\n        for (let i = 0; i < localStorage.length; i++) {\n            const key = localStorage.key(i);\n            if (key) {\n                try {\n                    backup[key] = localStorage.getItem(key);\n                } catch (e) {\n                    console.warn(`Erro ao fazer backup de ${key}:`, e);\n                }\n            }\n        }\n\n        // Salvar backup no cache\n        await firebaseCache.init();\n        await firebaseCache.set('localStorage-backup', {\n            timestamp: new Date().toISOString(),\n            data: backup\n        });\n\n        console.log('‚úÖ Backup criado com sucesso');\n        return { success: true, itemCount: Object.keys(backup).length };\n    } catch (error) {\n        console.error('‚ùå Erro ao criar backup:', error);\n        return { success: false, error: error.message };\n    }\n}\n\n// Exportar fun√ß√£o principal\nexport default migrateLocalStorageToFirebase;\n\n"],"names":["USER_ID","migrateLocalStorageToFirebase","firebaseCache","results","migrateTarefas","migrateRotina","migrateCategorias","migrateEstudos","migrateNotas","migrateConfig","error","v3State","tarefas","tarefasHome","state","projetos","batch","tarefa","firebaseService","tarefasRotina","historico","rotina","hist","categorias","cats","categoria","areasEstudo","topicosEstudo","tagsEstudo","configEstudos","estudos","estudosData","estudosStore","notas","i","key","data","e","nota","streak","conquistas","avaliacoesDiarias","darkMode","filtroStatus","avaliacoes","createBackup","backup"],"mappings":"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"}