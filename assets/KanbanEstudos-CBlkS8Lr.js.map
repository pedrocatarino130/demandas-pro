{"version":3,"file":"KanbanEstudos-CBlkS8Lr.js","sources":["../../src/components/estudos/KanbanEstudos.js"],"sourcesContent":["/**\n * TASK-014: View Kanban 4 Colunas para Estudos\n * \n * Layout de cards organizados por status:\n * - Prioridade (N√£o iniciado com prioridade)\n * - Revis√µes (Precisa revis√£o)\n * - Em Andamento (Estudando)\n * - Conclu√≠dos\n */\n\nclass KanbanEstudos {\n    constructor(options = {}) {\n        this.container = options.container || document.body;\n        this.topicos = options.topicos || [];\n        this.areas = options.areas || [];\n        this.onStatusChange = options.onStatusChange || (() => {});\n        this.onCardClick = options.onCardClick || (() => {});\n        \n        this.draggedCard = null;\n        this._createKanban();\n        this._attachEvents();\n    }\n\n    /**\n     * Cria estrutura do Kanban\n     */\n    _createKanban() {\n        this.wrapper = document.createElement('div');\n        this.wrapper.className = 'kanban-estudos';\n        this.wrapper.innerHTML = `\n            <div class=\"kanban-estudos-container\">\n                <div class=\"kanban-column\" data-status=\"prioridade\">\n                    <div class=\"kanban-column-header\">\n                        <h3>üéØ Prioridade</h3>\n                        <span class=\"kanban-count\" id=\"countPrioridade\">0</span>\n                    </div>\n                    <div class=\"kanban-column-content\" data-status=\"prioridade\"></div>\n                </div>\n                \n                <div class=\"kanban-column\" data-status=\"revisoes\">\n                    <div class=\"kanban-column-header\">\n                        <h3>üîÑ Revis√µes</h3>\n                        <span class=\"kanban-count\" id=\"countRevisoes\">0</span>\n                    </div>\n                    <div class=\"kanban-column-content\" data-status=\"revisoes\"></div>\n                </div>\n                \n                <div class=\"kanban-column\" data-status=\"andamento\">\n                    <div class=\"kanban-column-header\">\n                        <h3>üìö Em Andamento</h3>\n                        <span class=\"kanban-count\" id=\"countAndamento\">0</span>\n                    </div>\n                    <div class=\"kanban-column-content\" data-status=\"andamento\"></div>\n                </div>\n                \n                <div class=\"kanban-column\" data-status=\"concluidos\">\n                    <div class=\"kanban-column-header\">\n                        <h3>‚úÖ Conclu√≠dos</h3>\n                        <span class=\"kanban-count\" id=\"countConcluidos\">0</span>\n                    </div>\n                    <div class=\"kanban-column-content\" data-status=\"concluidos\"></div>\n                </div>\n            </div>\n        `;\n        \n        this.container.appendChild(this.wrapper);\n        this.render();\n    }\n\n    /**\n     * Renderiza os cards\n     */\n    render() {\n        const columns = {\n            prioridade: this.wrapper.querySelector('[data-status=\"prioridade\"] .kanban-column-content'),\n            revisoes: this.wrapper.querySelector('[data-status=\"revisoes\"] .kanban-column-content'),\n            andamento: this.wrapper.querySelector('[data-status=\"andamento\"] .kanban-column-content'),\n            concluidos: this.wrapper.querySelector('[data-status=\"concluidos\"] .kanban-column-content')\n        };\n\n        // Limpar colunas\n        Object.values(columns).forEach(col => col.innerHTML = '');\n\n        // Agrupar t√≥picos\n        const grupos = this._groupTopicos();\n\n        // Renderizar cada grupo\n        grupos.prioridade.forEach(topico => {\n            columns.prioridade.appendChild(this._createCard(topico));\n        });\n\n        grupos.revisoes.forEach(topico => {\n            columns.revisoes.appendChild(this._createCard(topico));\n        });\n\n        grupos.andamento.forEach(topico => {\n            columns.andamento.appendChild(this._createCard(topico));\n        });\n\n        grupos.concluidos.forEach(topico => {\n            columns.concluidos.appendChild(this._createCard(topico));\n        });\n\n        // Atualizar contadores\n        this._updateCounters(grupos);\n    }\n\n    /**\n     * Agrupa t√≥picos por coluna\n     */\n    _groupTopicos() {\n        const grupos = {\n            prioridade: [],\n            revisoes: [],\n            andamento: [],\n            concluidos: []\n        };\n\n        this.topicos.forEach(topico => {\n            // Revis√µes pendentes\n            if (topico.status === 'Precisa revis√£o' || this._isRevisaoPendente(topico)) {\n                grupos.revisoes.push(topico);\n            }\n            // Em andamento\n            else if (topico.status === 'Estudando') {\n                grupos.andamento.push(topico);\n            }\n            // Conclu√≠dos\n            else if (topico.status === 'Conclu√≠do') {\n                grupos.concluidos.push(topico);\n            }\n            // Prioridade (N√£o iniciado com prioridade alta/m√©dia)\n            else if (topico.status === 'N√£o iniciado' && \n                     (topico.prioridade === 'Alta' || topico.prioridade === 'M√©dia')) {\n                grupos.prioridade.push(topico);\n            }\n            // Outros n√£o iniciados v√£o para prioridade tamb√©m\n            else {\n                grupos.prioridade.push(topico);\n            }\n        });\n\n        // Ordenar cada grupo\n        grupos.prioridade.sort((a, b) => this._sortByPriority(a, b));\n        grupos.revisoes.sort((a, b) => {\n            const aDate = new Date(a.proximaRevisao || 0);\n            const bDate = new Date(b.proximaRevisao || 0);\n            return aDate - bDate;\n        });\n        grupos.andamento.sort((a, b) => {\n            const aDate = new Date(a.criadoEm || 0);\n            const bDate = new Date(b.criadoEm || 0);\n            return aDate - bDate;\n        });\n        grupos.concluidos.sort((a, b) => {\n            const aDate = new Date(a.concluidoEm || 0);\n            const bDate = new Date(b.concluidoEm || 0);\n            return bDate - aDate; // Mais recentes primeiro\n        });\n\n        return grupos;\n    }\n\n    /**\n     * Verifica se revis√£o est√° pendente\n     */\n    _isRevisaoPendente(topico) {\n        if (!topico.proximaRevisao) return false;\n        const revisaoDate = new Date(topico.proximaRevisao);\n        return revisaoDate <= new Date();\n    }\n\n    /**\n     * Ordena por prioridade\n     */\n    _sortByPriority(a, b) {\n        const priorityOrder = { 'Alta': 3, 'M√©dia': 2, 'Baixa': 1 };\n        const aPriority = priorityOrder[a.prioridade] || 0;\n        const bPriority = priorityOrder[b.prioridade] || 0;\n        \n        if (aPriority !== bPriority) {\n            return bPriority - aPriority;\n        }\n        \n        // Se mesma prioridade, ordenar por data de cria√ß√£o\n        const aDate = new Date(a.criadoEm || 0);\n        const bDate = new Date(b.criadoEm || 0);\n        return aDate - bDate;\n    }\n\n    /**\n     * Cria card de t√≥pico\n     */\n    _createCard(topico) {\n        const area = this.areas.find(a => a.id === topico.areaId);\n        const card = document.createElement('div');\n        card.className = 'kanban-card';\n        card.draggable = true;\n        card.dataset.id = topico.id;\n        \n        // Calcular progresso\n        const progresso = this._calcularProgresso(topico);\n        \n        // Badge de revis√£o\n        const revisaoBadge = this._isRevisaoPendente(topico) \n            ? '<span class=\"kanban-badge revisao-pendente\">‚è∞ Revis√£o</span>' \n            : '';\n        \n        // Tags\n        const tagsHtml = topico.tags && topico.tags.length > 0\n            ? `<div class=\"kanban-tags\">${topico.tags.map(t => `<span class=\"kanban-tag\">#${t}</span>`).join('')}</div>`\n            : '';\n        \n        // √öltima sess√£o\n        const ultimaSessao = this._getUltimaSessao(topico);\n        const sessaoHtml = ultimaSessao\n            ? `<div class=\"kanban-meta\">üìÖ ${this._formatDate(ultimaSessao.data)}</div>`\n            : '';\n\n        card.innerHTML = `\n            <div class=\"kanban-card-header\">\n                <span class=\"kanban-priority ${topico.prioridade?.toLowerCase()}\">${topico.prioridade || 'M√©dia'}</span>\n                ${revisaoBadge}\n                <div class=\"kanban-card-actions\">\n                    <button class=\"btn-icon-small\" data-action=\"edit\" data-topico-id=\"${topico.id}\" title=\"Editar\">‚úèÔ∏è</button>\n                    <button class=\"btn-icon-small\" data-action=\"delete\" data-topico-id=\"${topico.id}\" title=\"Excluir\">üóëÔ∏è</button>\n                </div>\n            </div>\n            <div class=\"kanban-card-body\">\n                <h4 class=\"kanban-card-title\">${this._escapeHtml(topico.titulo)}</h4>\n                ${topico.descricao ? `<p class=\"kanban-card-desc\">${this._escapeHtml(topico.descricao)}</p>` : ''}\n                ${tagsHtml}\n                ${area ? `<div class=\"kanban-area\" style=\"color: ${area.cor}\">${area.icone || 'üìö'} ${area.nome}</div>` : ''}\n            </div>\n            <div class=\"kanban-card-footer\">\n                ${progresso > 0 ? `\n                    <div class=\"kanban-progress\">\n                        <div class=\"kanban-progress-bar\" style=\"width: ${progresso}%\"></div>\n                        <span class=\"kanban-progress-text\">${progresso}%</span>\n                    </div>\n                ` : ''}\n                ${sessaoHtml}\n            </div>\n        `;\n\n        // Anexar eventos de drag\n        card.addEventListener('dragstart', (e) => this._handleDragStart(e, topico));\n        card.addEventListener('dragend', (e) => this._handleDragEnd(e));\n        \n        // Anexar evento de click (apenas no body, n√£o nos bot√µes)\n        const cardBody = card.querySelector('.kanban-card-body');\n        cardBody.addEventListener('click', () => {\n            this.onCardClick(topico);\n        });\n        \n        // Prevenir propaga√ß√£o nos bot√µes de a√ß√£o\n        const actionButtons = card.querySelectorAll('[data-action]');\n        actionButtons.forEach(btn => {\n            btn.addEventListener('click', (e) => {\n                e.stopPropagation();\n            });\n        });\n        \n        return card;\n    }\n\n    /**\n     * Calcula progresso do t√≥pico\n     */\n    _calcularProgresso(topico) {\n        // Se tem sess√µes, calcular baseado nelas\n        if (topico.sessoes && topico.sessoes.length > 0) {\n            const totalMinutos = topico.sessoes.reduce((acc, s) => acc + (s.duracao || 0), 0);\n            const tempoEstimado = topico.tempoEstimado?.minutes || 0;\n            if (tempoEstimado > 0) {\n                return Math.min(100, Math.round((totalMinutos / tempoEstimado) * 100));\n            }\n        }\n        \n        // Fallback: status\n        if (topico.status === 'Conclu√≠do') return 100;\n        if (topico.status === 'Estudando') return 50;\n        return 0;\n    }\n\n    /**\n     * Obt√©m √∫ltima sess√£o\n     */\n    _getUltimaSessao(topico) {\n        if (topico.sessoes && topico.sessoes.length > 0) {\n            const sessoes = [...topico.sessoes].sort((a, b) => {\n                const aDate = new Date(a.data || 0);\n                const bDate = new Date(b.data || 0);\n                return bDate - aDate;\n            });\n            return sessoes[0];\n        }\n        return null;\n    }\n\n    /**\n     * Formata data\n     */\n    _formatDate(dateString) {\n        if (!dateString) return '';\n        const date = new Date(dateString);\n        const now = new Date();\n        const diffDays = Math.floor((now - date) / (1000 * 60 * 60 * 24));\n        \n        if (diffDays === 0) return 'Hoje';\n        if (diffDays === 1) return 'Ontem';\n        if (diffDays < 7) return `${diffDays} dias atr√°s`;\n        \n        return date.toLocaleDateString('pt-BR');\n    }\n\n    /**\n     * Escape HTML\n     */\n    _escapeHtml(text) {\n        const div = document.createElement('div');\n        div.textContent = text;\n        return div.innerHTML;\n    }\n\n    /**\n     * Atualiza contadores\n     */\n    _updateCounters(grupos) {\n        this.wrapper.querySelector('#countPrioridade').textContent = grupos.prioridade.length;\n        this.wrapper.querySelector('#countRevisoes').textContent = grupos.revisoes.length;\n        this.wrapper.querySelector('#countAndamento').textContent = grupos.andamento.length;\n        this.wrapper.querySelector('#countConcluidos').textContent = grupos.concluidos.length;\n    }\n\n    /**\n     * Handler de drag start\n     */\n    _handleDragStart(e, topico) {\n        this.draggedCard = topico;\n        e.dataTransfer.effectAllowed = 'move';\n        e.currentTarget.classList.add('dragging');\n    }\n\n    /**\n     * Handler de drag end\n     */\n    _handleDragEnd(e) {\n        e.currentTarget.classList.remove('dragging');\n        this.draggedCard = null;\n        \n        // Remover classes de drag-over\n        this.wrapper.querySelectorAll('.kanban-column').forEach(col => {\n            col.classList.remove('drag-over');\n        });\n    }\n\n    /**\n     * Anexa eventos de drag and drop\n     */\n    _attachEvents() {\n        const columns = this.wrapper.querySelectorAll('.kanban-column-content');\n        \n        columns.forEach(column => {\n            column.addEventListener('dragover', (e) => {\n                e.preventDefault();\n                e.dataTransfer.dropEffect = 'move';\n                column.parentElement.classList.add('drag-over');\n            });\n\n            column.addEventListener('dragleave', () => {\n                column.parentElement.classList.remove('drag-over');\n            });\n\n            column.addEventListener('drop', (e) => {\n                e.preventDefault();\n                column.parentElement.classList.remove('drag-over');\n                \n                if (this.draggedCard) {\n                    const novoStatus = this._mapStatusFromColumn(column.dataset.status);\n                    this.onStatusChange(this.draggedCard.id, novoStatus);\n                }\n            });\n        });\n    }\n\n    /**\n     * Mapeia coluna para status\n     */\n    _mapStatusFromColumn(columnStatus) {\n        const map = {\n            'prioridade': 'N√£o iniciado',\n            'revisoes': 'Precisa revis√£o',\n            'andamento': 'Estudando',\n            'concluidos': 'Conclu√≠do'\n        };\n        return map[columnStatus] || 'N√£o iniciado';\n    }\n\n    /**\n     * Atualiza t√≥picos\n     */\n    updateTopicos(topicos) {\n        this.topicos = topicos || [];\n        this.render();\n    }\n\n    /**\n     * Atualiza √°reas\n     */\n    updateAreas(areas) {\n        this.areas = areas || [];\n        this.render();\n    }\n}\n\n// Export ES6\nexport { KanbanEstudos };\nexport default KanbanEstudos;\n\n// Export para uso global (compatibilidade)\nif (typeof module !== 'undefined' && module.exports) {\n    module.exports = KanbanEstudos;\n}\n\n\n"],"names":["KanbanEstudos","options","columns","col","grupos","topico","a","b","aDate","bDate","priorityOrder","aPriority","bPriority","_a","area","card","progresso","revisaoBadge","tagsHtml","t","ultimaSessao","sessaoHtml","e","btn","totalMinutos","acc","s","tempoEstimado","dateString","date","diffDays","text","div","column","novoStatus","columnStatus","topicos","areas"],"mappings":"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"}