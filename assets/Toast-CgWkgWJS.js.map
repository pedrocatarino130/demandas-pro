{"version":3,"file":"Toast-CgWkgWJS.js","sources":["../../src/store.js","../../src/components/Toast.js"],"sourcesContent":["/**\n * Sistema de Estado Global\n * Gerencia estado centralizado com armazenamento local (IndexedDB/localStorage)\n */\n\nimport {\n    firebaseService\n} from './services/firebase-service.js';\nimport {\n    firebaseCache\n} from './services/firebase-cache.js';\nimport {\n    firebaseSync\n} from './services/firebase-sync.js';\n\nclass Store {\n    constructor() {\n        this.state = this.getDefaultState();\n        this.subscribers = [];\n        this.saveDebounce = null;\n        this.DEBOUNCE_DELAY = 300; // ms\n        this.initialized = false;\n        this.initializing = false;\n        this.listeners = []; // Firestore listeners\n        this.userId = 'default'; // Para futuro suporte de autenticação\n\n        // Inicializar assincronamente\n        this.init();\n    }\n\n    /**\n     * Inicialização assíncrona - apenas local\n     */\n    async init() {\n        // Inicializar cache\n        await firebaseCache.init();\n\n        // Carregar estado do cache primeiro (para mostrar algo imediatamente)\n        const cachedState = await this.loadFromCache();\n        if (cachedState) {\n            this.state = {\n                ...this.getDefaultState(),\n                ...cachedState\n            };\n            this.notify();\n        }\n\n        // Carregar dados antigos do localStorage (migração)\n        await this.migrateFromV2();\n\n        this.initialized = true;\n        console.log('✅ Store inicializado (modo local)');\n    }\n\n    /**\n     * Estado padrão da aplicação\n     */\n    getDefaultState() {\n        return {\n            // Projetos\n            tarefas: [],\n            contador: 0,\n\n            // Home\n            tarefasHome: [],\n            contadorHome: 0,\n\n            // Rotina\n            tarefasRotina: [],\n            contadorRotina: 0,\n            historico: [],\n            categorias: [],\n\n            // Estudos\n            areasEstudo: [],\n            topicosEstudo: [],\n            sessoesEstudo: [],\n            contadorEstudos: 0,\n            tagsEstudo: [],\n            configEstudos: {\n                revisaoEspacada: {\n                    ativo: true,\n                    intervalos: [7, 15, 30],\n                },\n                notificacoes: true,\n                viewPadrao: 'kanban',\n            },\n\n            // Gamificação\n            streak: 0,\n            conquistas: {},\n            avaliacoesDiarias: [],\n\n            // UI\n            darkMode: false,\n            filtroStatus: null,\n            diaAtual: new Date().toISOString().split('T')[0],\n\n            // Meta\n            ultimaAtualizacao: new Date().toISOString(),\n        };\n    }\n\n    /**\n     * Carrega estado do cache local\n     */\n    async loadFromCache() {\n        try {\n            const cached = await firebaseCache.get('store-state');\n            if (cached && typeof cached === 'object') {\n                return {\n                    ...this.getDefaultState(),\n                    ...cached\n                };\n            }\n        } catch (error) {\n            console.warn('Erro ao carregar estado do cache:', error);\n        }\n        return null;\n    }\n\n    /**\n     * Método removido - não carrega mais do Firestore\n     * Mantido apenas para compatibilidade (não faz nada)\n     */\n    async loadFromFirestore() {\n        // Não faz nada - sistema agora é 100% local\n        return;\n    }\n\n    /**\n     * Salva estado localmente com debounce\n     */\n    saveToFirestore() {\n        if (this.saveDebounce) {\n            clearTimeout(this.saveDebounce);\n        }\n\n        this.saveDebounce = setTimeout(async () => {\n            try {\n                const stateToSave = {\n                    ...this.state,\n                    ultimaAtualizacao: new Date().toISOString(),\n                };\n\n                // Salvar no cache local\n                await firebaseCache.set('store-state', stateToSave);\n            } catch (error) {\n                console.error('Erro ao salvar estado:', error);\n            }\n        }, this.DEBOUNCE_DELAY);\n    }\n\n    /**\n     * Método removido - não salva mais no Firestore\n     * Mantido apenas para compatibilidade (não faz nada)\n     */\n    async _saveCollectionsToFirestore(state) {\n        // Não faz nada - sistema agora é 100% local\n        return;\n    }\n\n    /**\n     * Método removido - não configura mais listeners do Firestore\n     * Mantido apenas para compatibilidade (não faz nada)\n     */\n    setupRealtimeListeners() {\n        // Não faz nada - sistema agora é 100% local\n        return;\n    }\n\n    /**\n     * Método removido - não migra mais para Firestore\n     * Mantido apenas para compatibilidade (não faz nada)\n     */\n    async runMigration() {\n        // Não faz nada - sistema agora é 100% local\n        return;\n    }\n\n    /**\n     * Migração de dados v2 → v3 (do localStorage)\n     * Mantido para compatibilidade, mas será executado apenas uma vez\n     */\n    async migrateFromV2() {\n        try {\n            // Verificar se já migrou para Firestore\n            const migrated = await firebaseCache.get('firestore-migrated');\n            if (migrated) {\n                return;\n            }\n\n            // Chaves do v2 no localStorage\n            const KEY_PROJETOS = 'tarefas_projetos_v2';\n            const KEY_ROTINA = 'tarefas_rotina_v5';\n            const KEY_HISTORICO = 'historico_rotina_v5';\n            const KEY_CATEGORIAS = 'categorias_rotina_v4';\n            const KEY_ESTUDOS = 'estudos_dados_v2';\n            const KEY_AVALIACOES = 'avaliacoes_diarias_v1';\n            const KEY_V3_STATE = 'gerenciador_v3_state';\n\n            let hasData = false;\n\n            // Migrar projetos\n            const projetos = localStorage.getItem(KEY_PROJETOS);\n            if (projetos) {\n                try {\n                    this.state.tarefas = JSON.parse(projetos);\n                    hasData = true;\n                } catch (e) {\n                    console.warn('Erro ao migrar projetos:', e);\n                }\n            }\n\n            // Migrar rotina\n            const rotina = localStorage.getItem(KEY_ROTINA);\n            if (rotina) {\n                try {\n                    this.state.tarefasRotina = JSON.parse(rotina);\n                    hasData = true;\n                } catch (e) {\n                    console.warn('Erro ao migrar rotina:', e);\n                }\n            }\n\n            // Migrar histórico\n            const historico = localStorage.getItem(KEY_HISTORICO);\n            if (historico) {\n                try {\n                    this.state.historico = JSON.parse(historico);\n                    hasData = true;\n                } catch (e) {\n                    console.warn('Erro ao migrar histórico:', e);\n                }\n            }\n\n            // Migrar categorias\n            const categorias = localStorage.getItem(KEY_CATEGORIAS);\n            if (categorias) {\n                try {\n                    this.state.categorias = JSON.parse(categorias);\n                    hasData = true;\n                } catch (e) {\n                    console.warn('Erro ao migrar categorias:', e);\n                }\n            }\n\n            // Migrar estudos\n            const estudos = localStorage.getItem(KEY_ESTUDOS);\n            if (estudos) {\n                try {\n                    const estudosData = JSON.parse(estudos);\n                    this.state.areasEstudo = estudosData.areas || [];\n                    this.state.topicosEstudo = estudosData.topicos || [];\n                    this.state.sessoesEstudo = estudosData.sessoes || [];\n                    this.state.tagsEstudo = estudosData.tags || [];\n                    if (estudosData.config) {\n                        this.state.configEstudos = {\n                            ...this.state.configEstudos,\n                            ...estudosData.config\n                        };\n                    }\n                    hasData = true;\n                } catch (e) {\n                    console.warn('Erro ao migrar estudos:', e);\n                }\n            }\n\n            // Migrar avaliações\n            const avaliacoes = localStorage.getItem(KEY_AVALIACOES);\n            if (avaliacoes) {\n                try {\n                    this.state.avaliacoesDiarias = JSON.parse(avaliacoes);\n                    hasData = true;\n                } catch (e) {\n                    console.warn('Erro ao migrar avaliações:', e);\n                }\n            }\n\n            // Tentar migrar estado v3 completo\n            const v3State = localStorage.getItem(KEY_V3_STATE);\n            if (v3State) {\n                try {\n                    const parsed = JSON.parse(v3State);\n                    this.state = {\n                        ...this.state,\n                        ...parsed\n                    };\n                    hasData = true;\n                } catch (e) {\n                    console.warn('Erro ao migrar estado v3:', e);\n                }\n            }\n\n            // Se houver dados migrados, salvar localmente\n            if (hasData) {\n                await this.saveToFirestore();\n                // Forçar salvamento imediato\n                if (this.saveDebounce) {\n                    clearTimeout(this.saveDebounce);\n                }\n                const stateToSave = {\n                    ...this.state,\n                    ultimaAtualizacao: new Date().toISOString(),\n                };\n                await firebaseCache.set('store-state', stateToSave);\n            }\n\n            // Marcar como migrado\n            await firebaseCache.set('firestore-migrated', true);\n\n            if (hasData) {\n                console.log('✅ Migração v2/v3 concluída');\n                this.notify();\n            }\n        } catch (error) {\n            console.error('Erro na migração:', error);\n        }\n    }\n\n    /**\n     * Inscreve callback para mudanças de estado\n     */\n    subscribe(callback) {\n        this.subscribers.push(callback);\n        // Retorna função para desinscrever\n        return () => {\n            this.subscribers = this.subscribers.filter((cb) => cb !== callback);\n        };\n    }\n\n    /**\n     * Notifica todos os subscribers\n     */\n    notify() {\n        this.subscribers.forEach((callback) => {\n            try {\n                callback(this.state);\n            } catch (error) {\n                console.error('Erro ao notificar subscriber:', error);\n            }\n        });\n    }\n\n    /**\n     * Atualiza estado e notifica subscribers\n     */\n    setState(updates) {\n        this.state = {\n            ...this.state,\n            ...updates\n        };\n        this.saveToFirestore();\n        this.notify();\n    }\n\n    /**\n     * Retorna estado atual\n     */\n    getState() {\n        return {\n            ...this.state\n        };\n    }\n\n    /**\n     * Retorna parte específica do estado\n     */\n    getStateSlice(key) {\n        return this.state[key];\n    }\n\n    /**\n     * Atualiza parte específica do estado (merge)\n     */\n    updateStateSlice(key, updates) {\n        const current = this.state[key];\n        if (Array.isArray(current)) {\n            this.setState({\n                [key]: [...current, ...updates]\n            });\n        } else if (typeof current === 'object' && current !== null) {\n            this.setState({\n                [key]: {\n                    ...current,\n                    ...updates\n                }\n            });\n        } else {\n            this.setState({\n                [key]: updates\n            });\n        }\n    }\n\n    /**\n     * Adiciona item a uma lista no estado\n     */\n    addItem(key, item) {\n        const current = this.state[key];\n        if (Array.isArray(current)) {\n            this.setState({\n                [key]: [...current, item]\n            });\n        }\n    }\n\n    /**\n     * Remove item de uma lista no estado\n     */\n    removeItem(key, predicate) {\n        const current = this.state[key];\n        if (Array.isArray(current)) {\n            this.setState({\n                [key]: current.filter((item) => !predicate(item))\n            });\n        }\n    }\n\n    /**\n     * Atualiza item em uma lista no estado\n     */\n    updateItem(key, predicate, updates) {\n        const current = this.state[key];\n        if (Array.isArray(current)) {\n            this.setState({\n                [key]: current.map((item) => (predicate(item) ? {\n                    ...item,\n                    ...updates\n                } : item)),\n            });\n        }\n    }\n\n    /**\n     * Força salvamento imediato (sem debounce)\n     */\n    async forceSave() {\n        if (this.saveDebounce) {\n            clearTimeout(this.saveDebounce);\n        }\n        try {\n            const stateToSave = {\n                ...this.state,\n                ultimaAtualizacao: new Date().toISOString(),\n            };\n            await firebaseCache.set('store-state', stateToSave);\n        } catch (error) {\n            console.error('Erro ao forçar salvamento:', error);\n        }\n    }\n\n    /**\n     * Limpa todos os listeners\n     */\n    destroy() {\n        this.listeners.forEach(unsubscribe => unsubscribe());\n        this.listeners = [];\n    }\n}\n\n// Exportar instância singleton\nexport const store = new Store();\nexport default store;","/**\n * Sistema de Toast/Notificações\n * Toast para feedback de ações (ex: desfazer)\n */\n\nexport class Toast {\n  constructor() {\n    this.toasts = [];\n    this.container = null;\n    this.init();\n  }\n\n  init() {\n    this.container = document.createElement('div');\n    this.container.className = 'toast-container';\n    this.container.id = 'toast-container';\n    document.body.appendChild(this.container);\n  }\n\n  show(message, options = {}) {\n    const {\n      type = 'info',\n      duration = 5000,\n      action = null,\n      actionLabel = 'Desfazer',\n    } = options;\n\n    const toast = document.createElement('div');\n    toast.className = `toast toast-${type}`;\n    toast.innerHTML = `\n      <span class=\"toast-message\">${this.escapeHtml(message)}</span>\n      ${action ? `<button class=\"toast-action\" data-action-id=\"${this.toasts.length}\">${this.escapeHtml(actionLabel)}</button>` : ''}\n      <button class=\"toast-close\" aria-label=\"Fechar\">×</button>\n    `;\n\n    this.container.appendChild(toast);\n\n    // Trigger animation\n    setTimeout(() => {\n      toast.classList.add('toast-show');\n    }, 10);\n\n    // Action handler\n    if (action) {\n      const actionBtn = toast.querySelector('.toast-action');\n      actionBtn.addEventListener('click', () => {\n        action();\n        this.hide(toast);\n      });\n    }\n\n    // Close handler\n    const closeBtn = toast.querySelector('.toast-close');\n    closeBtn.addEventListener('click', () => {\n      this.hide(toast);\n    });\n\n    // Auto hide\n    if (duration > 0) {\n      setTimeout(() => {\n        this.hide(toast);\n      }, duration);\n    }\n\n    this.toasts.push({ element: toast, action });\n    return toast;\n  }\n\n  hide(toast) {\n    if (!toast) return;\n\n    toast.classList.remove('toast-show');\n    toast.classList.add('toast-hide');\n\n    setTimeout(() => {\n      if (toast.parentNode) {\n        toast.parentNode.removeChild(toast);\n      }\n      this.toasts = this.toasts.filter((t) => t.element !== toast);\n    }, 300);\n  }\n\n  success(message, options = {}) {\n    return this.show(message, { ...options, type: 'success' });\n  }\n\n  error(message, options = {}) {\n    return this.show(message, { ...options, type: 'error' });\n  }\n\n  info(message, options = {}) {\n    return this.show(message, { ...options, type: 'info' });\n  }\n\n  escapeHtml(text) {\n    const div = document.createElement('div');\n    div.textContent = text;\n    return div.innerHTML;\n  }\n}\n\n// Singleton\nexport const toast = new Toast();\n\n"],"names":["Store","firebaseCache","cachedState","cached","error","stateToSave","state","KEY_PROJETOS","KEY_ROTINA","KEY_HISTORICO","KEY_CATEGORIAS","KEY_ESTUDOS","KEY_AVALIACOES","KEY_V3_STATE","hasData","projetos","e","rotina","historico","categorias","estudos","estudosData","avaliacoes","v3State","parsed","callback","cb","updates","key","current","item","predicate","unsubscribe","store","Toast","message","options","type","duration","action","actionLabel","toast","t","text","div"],"mappings":"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"}