{"version":3,"mappings":"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","names":["EstudosView","container","store","areas","tags","parsed","areaId","existingArea","a","topico","topicoId","novoStatus","modal","titulo","mode","count","progress","data","pomodoroElapsed","notas","btnAdd","kanbanContainer","actionBtn","action","newTopico","topicoData","confirmAction","__vitePreload","onSave","areasOptions","close","e","t","text","div","message","toast"],"ignoreList":[],"sources":["../../src/views/EstudosView.js"],"sourcesContent":["/**\n * EstudosView - View principal do m√≥dulo de Estudos\n * \n * Integra todos os componentes da Sprint 2:\n * - QuickAddInput para cria√ß√£o r√°pida\n * - KanbanEstudos para visualiza√ß√£o\n * - Modal de estudo com PomodoroTimer e NotasRapidas\n * - RevisaoEspacada para revis√µes\n */\n\nclass EstudosView {\n    constructor(container, store) {\n        this.container = container;\n        this.store = store;\n\n        // Componentes\n        this.quickAdd = null;\n        this.kanban = null;\n        this.modal = null;\n        this.pomodoro = null;\n        this.notas = null;\n        this.revisaoEspacada = null;\n\n        // Estado\n        this.currentTopico = null;\n\n        this._init();\n    }\n\n    /**\n     * Inicializa a view\n     */\n    async _init() {\n        // Carregar componentes\n        await this._loadComponents();\n\n        // Inicializar RevisaoEspacada\n        this.revisaoEspacada = new RevisaoEspacada();\n        this.store.setRevisaoEspacada(this.revisaoEspacada);\n\n        // Criar estrutura\n        this._createStructure();\n\n        // Inicializar componentes\n        this._initQuickAdd();\n        this._initKanban();\n        this._setupEventListeners();\n\n        // Subscribir a mudan√ßas no store\n        this.store.subscribe(() => {\n            this._updateView();\n        });\n\n        // Renderizar inicial\n        this._updateView();\n    }\n\n    /**\n     * Carrega componentes dinamicamente\n     */\n    async _loadComponents() {\n        // Os componentes devem estar carregados globalmente\n        // Se estiver usando m√≥dulos ES6, fazer imports aqui\n    }\n\n    /**\n     * Cria estrutura HTML da view\n     */\n    _createStructure() {\n        this.container.innerHTML = `\n            <div class=\"estudos-view\">\n                <div class=\"estudos-header\">\n                    <h1>üìö Estudos</h1>\n                    <div class=\"estudos-header-controls\">\n                        <button class=\"btn btn-primary\" id=\"btnAddTopico\" title=\"Adicionar novo t√≥pico\">‚ûï Novo T√≥pico</button>\n                    </div>\n                    <div id=\"quickAddContainer\"></div>\n                </div>\n                <div id=\"kanbanContainer\" class=\"estudos-kanban\"></div>\n            </div>\n            \n            <!-- Modal de Estudo -->\n            <div id=\"estudoModal\" class=\"estudo-modal\" style=\"display: none;\">\n                <div class=\"estudo-modal-overlay\"></div>\n                <div class=\"estudo-modal-content\">\n                    <div class=\"estudo-modal-header\">\n                        <h2 id=\"modalTopicoTitulo\">T√≥pico</h2>\n                        <button class=\"estudo-modal-close\" id=\"modalClose\">‚úï</button>\n                    </div>\n                    <div class=\"estudo-modal-body\">\n                        <div id=\"pomodoroContainer\"></div>\n                        <div id=\"notasContainer\"></div>\n                    </div>\n                    <div class=\"estudo-modal-footer\">\n                        <button class=\"btn btn-primary\" id=\"salvarSessaoBtn\">üíæ Salvar Sess√£o</button>\n                        <button class=\"btn btn-secondary\" id=\"fecharModalBtn\">Fechar</button>\n                    </div>\n                </div>\n            </div>\n        `;\n    }\n\n    /**\n     * Inicializa Quick Add\n     */\n    _initQuickAdd() {\n        const container = this.container.querySelector('#quickAddContainer');\n\n        const areas = this.store.getAreas();\n        const tags = this.store.getAllTags();\n\n        this.quickAdd = new QuickAddInput({\n            container: container,\n            parser: new QuickAddParser(),\n            areas: areas,\n            tags: tags,\n            onSubmit: (parsed) => this._handleQuickAdd(parsed)\n        });\n    }\n\n    /**\n     * Handler do Quick Add\n     */\n    _handleQuickAdd(parsed) {\n        // Verificar/criar √°rea\n        let areaId = null;\n        if (parsed.area) {\n            const existingArea = this.store.getAreas().find(\n                a => a.nome.toLowerCase() === parsed.area.toLowerCase()\n            );\n\n            if (existingArea) {\n                areaId = existingArea.id;\n            } else {\n                // Criar nova √°rea\n                const novaArea = this.store.addArea({\n                    nome: parsed.area,\n                    cor: '#3b82f6',\n                    icone: 'üìö'\n                });\n                areaId = novaArea.id;\n            }\n        }\n\n        // Criar t√≥pico\n        const topico = this.store.addTopico({\n            titulo: parsed.titulo,\n            areaId: areaId,\n            prioridade: parsed.prioridade,\n            tags: parsed.tags,\n            tempoEstimado: parsed.tempoEstimado\n        });\n\n        // Atualizar Quick Add com novas √°reas/tags\n        this.quickAdd.updateData(this.store.getAreas(), this.store.getAllTags());\n\n        // Feedback visual\n        this._showToast(`‚úÖ T√≥pico \"${topico.titulo}\" criado!`);\n    }\n\n    /**\n     * Inicializa Kanban\n     */\n    _initKanban() {\n        const container = this.container.querySelector('#kanbanContainer');\n\n        this.kanban = new KanbanEstudos({\n            container: container,\n            topicos: this.store.getTopicos(),\n            areas: this.store.getAreas(),\n            onStatusChange: (topicoId, novoStatus) => this._handleStatusChange(topicoId, novoStatus),\n            onCardClick: (topico) => this._openModal(topico)\n        });\n    }\n\n    /**\n     * Handler de mudan√ßa de status (drag & drop)\n     */\n    _handleStatusChange(topicoId, novoStatus) {\n        const topico = this.store.updateTopico(topicoId, {\n            status: novoStatus\n        });\n\n        if (topico && novoStatus === 'Conclu√≠do' && !topico.concluidoEm) {\n            // Se concluiu, agendar revis√£o\n            this.revisaoEspacada.agendarRevisaoInicial(topico);\n            this.store.updateTopico(topicoId, {\n                concluidoEm: new Date().toISOString(),\n                proximaRevisao: topico.proximaRevisao\n            });\n        }\n\n        this._showToast(`‚úÖ Status atualizado para \"${novoStatus}\"`);\n    }\n\n    /**\n     * Abre modal de estudo\n     */\n    _openModal(topico) {\n        this.currentTopico = topico;\n        const modal = this.container.querySelector('#estudoModal');\n        const titulo = modal.querySelector('#modalTopicoTitulo');\n\n        titulo.textContent = topico.titulo;\n        modal.style.display = 'flex';\n\n        // Inicializar Pomodoro\n        this._initPomodoro(topico);\n\n        // Inicializar Notas\n        this._initNotas(topico);\n\n        // Eventos do modal\n        modal.querySelector('#modalClose').addEventListener('click', () => this._closeModal());\n        modal.querySelector('#fecharModalBtn').addEventListener('click', () => this._closeModal());\n        modal.querySelector('#salvarSessaoBtn').addEventListener('click', () => this._salvarSessao());\n\n        // Fechar ao clicar no overlay\n        modal.querySelector('.estudo-modal-overlay').addEventListener('click', () => this._closeModal());\n    }\n\n    /**\n     * Fecha modal\n     */\n    _closeModal() {\n        const modal = this.container.querySelector('#estudoModal');\n        modal.style.display = 'none';\n\n        // Limpar componentes\n        if (this.pomodoro) {\n            this.pomodoro.destroy();\n            this.pomodoro = null;\n        }\n\n        if (this.notas) {\n            this.notas.destroy();\n            this.notas = null;\n        }\n\n        this.currentTopico = null;\n    }\n\n    /**\n     * Inicializa Pomodoro Timer\n     */\n    _initPomodoro(topico) {\n        const container = this.container.querySelector('#pomodoroContainer');\n        container.innerHTML = '';\n\n        this.pomodoro = new PomodoroTimer({\n            duration: 25 * 60,\n            onComplete: (mode, count) => {\n                if (mode === 'work') {\n                    this._showToast(`üéâ Pomodoro ${count} conclu√≠do!`);\n                }\n            },\n            onAutoSave: (progress) => {\n                // Auto-save do progresso\n                console.log('Auto-save pomodoro', progress);\n            }\n        });\n\n        container.appendChild(this.pomodoro.getElement());\n    }\n\n    /**\n     * Inicializa Notas R√°pidas\n     */\n    _initNotas(topico) {\n        const container = this.container.querySelector('#notasContainer');\n        container.innerHTML = '';\n\n        this.notas = new NotasRapidas({\n            container: container,\n            topicoId: topico.id,\n            onSave: (data) => {\n                console.log('Notas salvas', data);\n            }\n        });\n    }\n\n    /**\n     * Salva sess√£o de estudo\n     */\n    _salvarSessao() {\n        if (!this.currentTopico) return;\n\n        const pomodoroElapsed = this.pomodoro ?\n            Math.floor((this.pomodoro.duration - this.pomodoro.timeRemaining) / 60) : 0;\n        const notas = this.notas ? this.notas.getContent() : '';\n\n        if (pomodoroElapsed === 0 && !notas) {\n            this._showToast('‚ö†Ô∏è Nenhuma sess√£o para salvar');\n            return;\n        }\n\n        const sessao = this.store.addSessao(this.currentTopico.id, {\n            duracao: pomodoroElapsed,\n            notas: notas,\n            data: new Date().toISOString()\n        });\n\n        if (sessao) {\n            this._showToast('‚úÖ Sess√£o salva com sucesso!');\n            this._closeModal();\n        }\n    }\n\n    /**\n     * Atualiza a view quando o estado muda\n     */\n    _updateView() {\n        // Atualizar Kanban\n        if (this.kanban) {\n            this.kanban.updateTopicos(this.store.getTopicos());\n            this.kanban.updateAreas(this.store.getAreas());\n        }\n\n        // Atualizar Quick Add\n        if (this.quickAdd) {\n            this.quickAdd.updateData(this.store.getAreas(), this.store.getAllTags());\n        }\n    }\n\n    /**\n     * Configura event listeners\n     */\n    _setupEventListeners() {\n        // Bot√£o adicionar t√≥pico\n        const btnAdd = this.container.querySelector('#btnAddTopico');\n        if (btnAdd) {\n            btnAdd.addEventListener('click', () => this._handleAddTopico());\n        }\n\n        // Event delegation para bot√µes de a√ß√£o nos cards\n        const kanbanContainer = this.container.querySelector('#kanbanContainer');\n        if (kanbanContainer) {\n            kanbanContainer.addEventListener('click', (e) => {\n                const actionBtn = e.target.closest('[data-action]');\n                if (!actionBtn) return;\n\n                const action = actionBtn.getAttribute('data-action');\n                const topicoId = actionBtn.getAttribute('data-topico-id');\n\n                if (action === 'edit' && topicoId) {\n                    this._handleEditTopico(topicoId);\n                } else if (action === 'delete' && topicoId) {\n                    this._handleDeleteTopico(topicoId);\n                }\n            });\n        }\n    }\n\n    /**\n     * Handler para adicionar novo t√≥pico\n     */\n    _handleAddTopico() {\n        const areas = this.store.getAreas();\n        const areaId = areas.length > 0 ? areas[0].id : null;\n\n        const newTopico = {\n            titulo: 'Novo T√≥pico',\n            descricao: '',\n            areaId: areaId,\n            status: 'N√£o iniciado',\n            prioridade: 'M√©dia',\n            tags: []\n        };\n\n        this._openTopicoModal(newTopico, (topicoData) => {\n            const topico = this.store.addTopico(topicoData);\n            this._showToast(`‚úÖ T√≥pico \"${topico.titulo}\" criado!`);\n        });\n    }\n\n    /**\n     * Handler para editar t√≥pico\n     */\n    _handleEditTopico(topicoId) {\n        const topico = this.store.getTopicoById(topicoId);\n        if (!topico) {\n            this._showToast('‚ö†Ô∏è T√≥pico n√£o encontrado');\n            return;\n        }\n\n        this._openTopicoModal(topico, (topicoData) => {\n            this.store.updateTopico(topicoId, topicoData);\n            this._showToast(`‚úÖ T√≥pico \"${topicoData.titulo}\" atualizado!`);\n        });\n    }\n\n    /**\n     * Handler para excluir t√≥pico\n     */\n    async _handleDeleteTopico(topicoId) {\n        const topico = this.store.getTopicoById(topicoId);\n        if (!topico) {\n            this._showToast('‚ö†Ô∏è T√≥pico n√£o encontrado');\n            return;\n        }\n\n        // Importar dinamicamente para evitar depend√™ncia circular\n        const { confirmAction } = await import('../components/ConfirmModal.js');\n        const confirmed = await confirmAction(`Tem certeza que deseja excluir \"${topico.titulo}\"?`);\n        \n        if (confirmed) {\n            this.store.removeTopico(topicoId);\n            this._showToast(`‚úÖ T√≥pico \"${topico.titulo}\" exclu√≠do!`);\n        }\n    }\n\n    /**\n     * Abre modal para editar/criar t√≥pico\n     */\n    _openTopicoModal(topico, onSave) {\n        // Criar modal simples\n        const modal = document.createElement('div');\n        modal.className = 'estudo-topico-modal';\n\n        const areas = this.store.getAreas();\n        const areasOptions = areas.map(a => \n            `<option value=\"${a.id}\" ${topico.areaId === a.id ? 'selected' : ''}>${a.nome}</option>`\n        ).join('');\n\n        modal.innerHTML = `\n            <div class=\"estudo-topico-modal-content\">\n                <h2 class=\"estudo-topico-modal-title\">${topico.id ? 'Editar' : 'Novo'} T√≥pico</h2>\n                <div class=\"estudo-topico-form-group\">\n                    <label class=\"estudo-topico-form-label\">T√≠tulo *</label>\n                    <input type=\"text\" id=\"topico-titulo\" class=\"estudo-topico-form-input\" value=\"${this._escapeHtml(topico.titulo || '')}\" required>\n                </div>\n                <div class=\"estudo-topico-form-group\">\n                    <label class=\"estudo-topico-form-label\">Descri√ß√£o</label>\n                    <textarea id=\"topico-descricao\" rows=\"4\" class=\"estudo-topico-form-textarea\">${this._escapeHtml(topico.descricao || '')}</textarea>\n                </div>\n                <div class=\"estudo-topico-form-group\">\n                    <label class=\"estudo-topico-form-label\">√Årea</label>\n                    <select id=\"topico-area\" class=\"estudo-topico-form-select\">\n                        <option value=\"\">Sem √°rea</option>\n                        ${areasOptions}\n                    </select>\n                </div>\n                <div class=\"estudo-topico-form-group\">\n                    <label class=\"estudo-topico-form-label\">Prioridade</label>\n                    <select id=\"topico-prioridade\" class=\"estudo-topico-form-select\">\n                        <option value=\"Alta\" ${topico.prioridade === 'Alta' ? 'selected' : ''}>Alta</option>\n                        <option value=\"M√©dia\" ${topico.prioridade === 'M√©dia' ? 'selected' : ''}>M√©dia</option>\n                        <option value=\"Baixa\" ${topico.prioridade === 'Baixa' ? 'selected' : ''}>Baixa</option>\n                    </select>\n                </div>\n                <div class=\"estudo-topico-form-group\">\n                    <label class=\"estudo-topico-form-label\">Tags (separadas por v√≠rgula)</label>\n                    <input type=\"text\" id=\"topico-tags\" class=\"estudo-topico-form-input\" value=\"${(topico.tags || []).join(', ')}\" \n                           placeholder=\"ex: javascript, frontend\">\n                </div>\n                <div class=\"estudo-topico-modal-footer\">\n                    <button id=\"topico-cancel\" class=\"estudo-topico-btn estudo-topico-btn-cancel\">Cancelar</button>\n                    <button id=\"topico-save\" class=\"estudo-topico-btn estudo-topico-btn-save\">Salvar</button>\n                </div>\n            </div>\n        `;\n\n        document.body.appendChild(modal);\n\n        const close = () => {\n            document.body.removeChild(modal);\n        };\n\n        modal.querySelector('#topico-cancel').addEventListener('click', close);\n        modal.querySelector('.estudo-topico-modal').addEventListener('click', (e) => {\n            if (e.target === modal) close();\n        });\n\n        modal.querySelector('#topico-save').addEventListener('click', () => {\n            const titulo = modal.querySelector('#topico-titulo').value.trim();\n            if (!titulo) {\n                alert('O t√≠tulo √© obrigat√≥rio');\n                return;\n            }\n\n            const topicoData = {\n                titulo: titulo,\n                descricao: modal.querySelector('#topico-descricao').value.trim(),\n                areaId: modal.querySelector('#topico-area').value || null,\n                prioridade: modal.querySelector('#topico-prioridade').value,\n                tags: modal.querySelector('#topico-tags').value\n                    .split(',')\n                    .map(t => t.trim())\n                    .filter(t => t.length > 0)\n            };\n\n            onSave(topicoData);\n            close();\n        });\n\n        // Focar no t√≠tulo\n        setTimeout(() => modal.querySelector('#topico-titulo').focus(), 100);\n    }\n\n    /**\n     * Escapa HTML\n     */\n    _escapeHtml(text) {\n        const div = document.createElement('div');\n        div.textContent = text;\n        return div.innerHTML;\n    }\n\n    /**\n     * Mostra toast de feedback\n     */\n    _showToast(message) {\n        // Criar toast simples\n        const toast = document.createElement('div');\n        toast.className = 'toast';\n        toast.textContent = message;\n        toast.style.cssText = `\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            background: var(--surface, #fff);\n            color: var(--text-primary, #000);\n            padding: 12px 24px;\n            border-radius: 8px;\n            box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n            z-index: 10000;\n            animation: slideIn 0.3s ease;\n        `;\n\n        document.body.appendChild(toast);\n\n        setTimeout(() => {\n            toast.style.animation = 'slideOut 0.3s ease';\n            setTimeout(() => {\n                if (toast.parentNode) {\n                    toast.parentNode.removeChild(toast);\n                }\n            }, 300);\n        }, 3000);\n    }\n\n    /**\n     * Destr√≥i a view\n     */\n    destroy() {\n        if (this.quickAdd) {\n            this.quickAdd.destroy();\n        }\n        if (this.kanban) {\n            // Kanban n√£o tem destroy, mas podemos limpar\n        }\n        if (this.pomodoro) {\n            this.pomodoro.destroy();\n        }\n        if (this.notas) {\n            this.notas.destroy();\n        }\n        this.container.innerHTML = '';\n    }\n}\n\n// Export ES6\nexport { EstudosView };\nexport default EstudosView;\n\n// Export para uso global (compatibilidade)\nif (typeof module !== 'undefined' && module.exports) {\n    module.exports = EstudosView;\n}\n"],"file":"assets/EstudosView-D4Wby47d.js"}